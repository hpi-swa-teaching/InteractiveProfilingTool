events-filtering
filterEvent: aKeyboardEvent for: aMorphOrNil
	"Fixes VM behavior. Usually, there are no mouse wheel events generated by the VM but CTRL+UP/DOWN. Convert these into mouse wheel events.
	
	We installed ourself as keyboard filter only! No need to check whether this is a keyboard event or not! See HandMorph >> #initForEvents.
	
	Might be removed in the future if this mapping gets obsolete."
	
	HandMorph synthesizeMouseWheelEvents ifFalse: [^ aKeyboardEvent].
	
	(aKeyboardEvent isKeystroke and: [aKeyboardEvent controlKeyPressed]) ifTrue: [
		aKeyboardEvent keyCharacter caseOf: {
			[Character arrowUp] -> [^ self generateMouseWheelEvent: aKeyboardEvent direction: 2r1000].
			[Character arrowDown] -> [^ self generateMouseWheelEvent: aKeyboardEvent direction: 2r0100].
		} otherwise: [^ aKeyboardEvent]].
	
	^ aKeyboardEvent